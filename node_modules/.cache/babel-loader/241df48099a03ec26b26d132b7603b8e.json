{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/takasivenkatasandeep/Desktop/nursery/src/Containers/Login/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport CommonForm from '../../Components/CommonForm';\nimport { userLogin } from '../../api/actions';\nimport { emailFormValidator, passwordFormValidator } from '../../FormValidators/FormValidator';\nexport default function Login({\n  setSnackBar,\n  setLoggedinUser,\n  setLoginAuthenticated,\n  location\n}) {\n  _s();\n\n  const [loading, setLoading] = React.useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({\n    mode: 'onChange'\n  });\n  const loginFormDetails = [{\n    name: 'email',\n    type: 'email',\n    label: 'Email Address',\n    error: errors.email,\n    validator: register(emailFormValidator()),\n    helperText: errors.email ? errors.email.message : null\n  }, {\n    name: 'password',\n    label: 'Password',\n    type: 'password',\n    validator: register(passwordFormValidator()),\n    error: errors.password,\n    helperText: errors.password ? errors.password.message : null\n  }];\n\n  const handleLogin = async data => {\n    setLoading(true);\n    const email = data.email;\n    const password = data.password;\n    const userDetails = {\n      email,\n      password\n    };\n    let userData = await userLogin(userDetails);\n    console.log(userData);\n\n    if (userData.data) {\n      setLoggedinUser({\n        userId: userData.data.userId,\n        userName: userData.data.userName\n      });\n      setLoginAuthenticated(true);\n      setSnackBar({\n        value: true,\n        message: 'User Logged In Successfully',\n        type: 'green'\n      });\n      setLoading(false);\n    } else {\n      setSnackBar({\n        value: true,\n        message: userData.message,\n        type: 'red'\n      });\n      setLoading(false);\n    }\n  };\n\n  if (location.verified) {\n    setSnackBar(location.verified);\n  }\n\n  return /*#__PURE__*/_jsxDEV(CommonForm, {\n    submitFunction: handleSubmit(handleLogin),\n    isLoading: loading,\n    submitButtonName: 'login',\n    formHeading: 'Login',\n    formDetails: loginFormDetails\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"1GHRszNaSzFAcPAowsdFhF3NcZ0=\", false, function () {\n  return [useForm];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/nursery/src/Containers/Login/index.js"],"names":["React","useForm","CommonForm","userLogin","emailFormValidator","passwordFormValidator","Login","setSnackBar","setLoggedinUser","setLoginAuthenticated","location","loading","setLoading","useState","register","handleSubmit","errors","mode","loginFormDetails","name","type","label","error","email","validator","helperText","message","password","handleLogin","data","userDetails","userData","console","log","userId","userName","value","verified"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useForm } from 'react-hook-form'\nimport CommonForm from '../../Components/CommonForm'\nimport { userLogin } from '../../api/actions'\nimport {\n  emailFormValidator,\n  passwordFormValidator,\n} from '../../FormValidators/FormValidator'\n\n\nexport default function Login({\n  setSnackBar,\n  setLoggedinUser,\n  setLoginAuthenticated,\n  location,\n}) {\n  const [loading, setLoading] = React.useState(false)\n  const { register, handleSubmit, errors } = useForm({\n    mode: 'onChange',\n  })\n  const loginFormDetails = [\n    {\n      name: 'email',\n      type: 'email',\n      label: 'Email Address',\n      error: errors.email,\n      validator: register(emailFormValidator()),\n      helperText: errors.email ? errors.email.message : null,\n    },\n    {\n      name: 'password',\n      label: 'Password',\n      type: 'password',\n      validator: register(passwordFormValidator()),\n      error: errors.password,\n      helperText: errors.password ? errors.password.message : null,\n    },\n  ]\n  const handleLogin = async (data) => {\n    setLoading(true)\n    const email = data.email\n    const password = data.password\n    const userDetails = {\n      email,\n      password,\n    }\n    let userData = await userLogin(userDetails)\n    console.log(userData)\n    if (userData.data) {\n      setLoggedinUser({\n        userId: userData.data.userId,\n        userName: userData.data.userName,\n      })\n      setLoginAuthenticated(true)\n      setSnackBar({\n        value: true,\n        message: 'User Logged In Successfully',\n        type: 'green',\n      })\n      setLoading(false)\n    }\n    else {\n      setSnackBar({ value: true, message: userData.message, type: 'red' })\n      setLoading(false)\n    }\n  }\n\n  if (location.verified) {\n    setSnackBar(location.verified)\n  }\n  return (\n    <CommonForm\n      submitFunction={handleSubmit(handleLogin)}\n      isLoading={loading}\n      submitButtonName={'login'}\n      formHeading={'Login'}\n      formDetails={loginFormDetails}\n    />\n  )\n}\n"]},"metadata":{},"sourceType":"module"}
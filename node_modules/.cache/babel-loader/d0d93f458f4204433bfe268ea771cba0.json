{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/takasivenkatasandeep/Desktop/nursery/src/Containers/CreateItem/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { getSingleDocument } from '../../services/firebase';\nimport Loader from '../../Components/Loader';\nimport { Typography } from '@material-ui/core';\nimport CommonItemForm from '../../Components/CommonItemForm';\nimport { useForm } from 'react-hook-form';\n\nfunction Index({\n  loggedinUser,\n  match\n}) {\n  _s();\n\n  const collectionName = match.params.collectionName;\n  const id = match.params.id;\n  const [loading, setLoading] = React.useState(false);\n  const [isAdmin, setIsAdmin] = React.useState(false);\n  const [buttonLoading, setButtonLoading] = React.useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  React.useEffect(() => {\n    var mounted = true;\n\n    async function getPlants() {\n      setLoading(true);\n\n      if (Object.keys(loggedinUser).length !== 0) {\n        const isAdminResponse = await getSingleDocument('users', loggedinUser.id);\n        console.log(isAdminResponse);\n\n        if (isAdminResponse.isAdmin) {\n          setIsAdmin(true);\n        }\n      }\n\n      setLoading(false);\n    }\n\n    getPlants();\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  const formData = [{\n    name: collectionName === \"pots\" || collectionName === \"bowls\" ? \"type\" : \"name\",\n    error: errors.type,\n    helperText: errors.type ? errors.type.message : null\n  }, {\n    name: \"price\",\n    error: errors.price,\n    helperText: errors.price ? errors.price.message : null\n  }, { ...((collectionName === \"pots\" || collectionName === \"bowls\") && {\n      name: \"color\",\n      error: errors.color,\n      helperText: errors.color ? errors.color.message : null\n    })\n  }];\n\n  const createDocument = () => {\n    console.log(\"hi\");\n  };\n\n  if (!loading) {\n    if (isAdmin) {\n      return /*#__PURE__*/_jsxDEV(CommonItemForm, {\n        collectionName: collectionName,\n        id: id,\n        loading: buttonLoading,\n        register: register,\n        handleFunction: handleSubmit(createDocument),\n        formData: formData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h4\",\n          color: \"secondary\",\n          children: \"You have no access to this page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }, this);\n  }\n}\n\n_s(Index, \"iARODbl0vCriqnyBzrij5K/jIfQ=\", false, function () {\n  return [useForm];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/nursery/src/Containers/CreateItem/index.js"],"names":["React","getSingleDocument","Loader","Typography","CommonItemForm","useForm","Index","loggedinUser","match","collectionName","params","id","loading","setLoading","useState","isAdmin","setIsAdmin","buttonLoading","setButtonLoading","register","handleSubmit","errors","useEffect","mounted","getPlants","Object","keys","length","isAdminResponse","console","log","formData","name","error","type","helperText","message","price","color","createDocument"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {getSingleDocument} from '../../services/firebase'\nimport Loader from '../../Components/Loader'\nimport { Typography } from '@material-ui/core'\nimport CommonItemForm from '../../Components/CommonItemForm'\nimport {useForm} from 'react-hook-form'\n\nfunction Index({\n    loggedinUser,\n    match\n}) {\n    const collectionName = match.params.collectionName\n    const id = match.params.id\n    const [loading, setLoading] = React.useState(false)\n    const [isAdmin, setIsAdmin] = React.useState(false)\n    const [buttonLoading,setButtonLoading] = React.useState(false)\n    const {register,handleSubmit,errors} = useForm()\n    React.useEffect(() => {\n        var mounted = true\n        async function getPlants() {\n            setLoading(true)\n            if (Object.keys(loggedinUser).length !== 0) {\n                const isAdminResponse = await getSingleDocument('users', loggedinUser.id)\n                console.log(isAdminResponse)\n                if (isAdminResponse.isAdmin) {\n                    setIsAdmin(true)\n                }\n            }\n                setLoading(false)\n        }\n        \n            getPlants()\n        \n        return () => { mounted = false }\n    }, [])\n\n    const formData = [\n        {\n            name: collectionName===\"pots\"||collectionName===\"bowls\"?\"type\":\"name\",\n            error: errors.type,\n            helperText:errors.type?errors.type.message:null\n        },\n        {\n             name: \"price\",\n            error: errors.price,\n            helperText:errors.price?errors.price.message:null\n        },\n        {\n            ...(collectionName === \"pots\" || collectionName === \"bowls\")\n                && {\n                    name: \"color\",\n                    error: errors.color,\n                    helperText: errors.color ? errors.color.message : null\n                }}\n    ]\n    \n    const createDocument = () => {\n        console.log(\"hi\")\n    }\n\n    if (!loading) {\n        if (isAdmin) {\n            return (\n                <CommonItemForm collectionName={collectionName} id={id} loading={buttonLoading} register={register} handleFunction={handleSubmit(createDocument)} formData={formData} />\n            )\n        }\n        else {\n            return (<center><Typography component=\"h1\" variant=\"h4\" color=\"secondary\">You have no access to this page</Typography></center>)\n        }\n    }\n    else {\n       return  <center><Loader/></center>\n    }\n}\n\nexport default Index\n"]},"metadata":{},"sourceType":"module"}
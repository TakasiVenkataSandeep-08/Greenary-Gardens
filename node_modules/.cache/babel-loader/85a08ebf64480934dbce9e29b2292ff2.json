{"ast":null,"code":"import app from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\nimport { PlayCircleOutlineTwoTone } from '@material-ui/icons';\nconst config = {\n  apiKey: \"AIzaSyBmIcRoW1W55HUxkDq2I8A76VbfSOvifew\",\n  authDomain: \"greenary-gardens.firebaseapp.com\",\n  projectId: \"greenary-gardens\",\n  storageBucket: \"greenary-gardens.appspot.com\",\n  messagingSenderId: \"909264771422\",\n  appId: \"1:909264771422:web:445f6d6267c15d4c9e17cf\",\n  measurementId: \"G-B1J3H3H0GL\"\n};\napp.initializeApp(config);\nconst firebaseDb = app.firestore();\nconst storageRef = app.storage().ref();\nexport default app;\nexport async function addUser(email, password) {\n  try {\n    let userData = await app.auth().createUserWithEmailAndPassword(email, password);\n    await firebaseDb.collection('users').doc(userData.user.uid).set({\n      email,\n      password,\n      createdAt: app.firestore.FieldValue.serverTimestamp()\n    });\n  } catch (error) {\n    alert(error.message);\n  }\n}\nexport async function logoutUser() {\n  try {\n    await app.auth().signOut();\n  } catch (err) {\n    alert(err.message);\n  }\n}\nexport async function loginUser(email, password) {\n  try {\n    await app.auth().signInWithEmailAndPassword(email, password);\n  } catch (error) {\n    alert(error.message);\n  }\n}\nexport async function addDataToCollection(collectionName, data) {\n  await firebaseDb.collection(collectionName).add({ ...data,\n    createdAt: app.firestore.FieldValue.serverTimestamp()\n  });\n}\nexport async function getAllDataByType(collectionName) {\n  let response = await firebaseDb.collection(collectionName).orderBy(\"createdAt\", \"desc\").get();\n  return response.data();\n}\nexport async function getNote(id) {\n  let doc = await firebaseDb.collection('notes').doc(id).get();\n  return doc.data();\n}\nexport async function updateNote(id, noteData) {\n  await firebaseDb.collection('notes').doc(id).set(noteData, {\n    merge: true\n  });\n}\nexport async function deleteNote(id, imageUrl) {\n  if (imageUrl.length !== 0) {\n    imageUrl.map(async url => {\n      const fileRef = app.storage().refFromURL(url);\n\n      try {\n        await fileRef.delete();\n      } catch (err) {\n        console.log(err);\n      }\n    });\n  }\n\n  await firebaseDb.collection('notes').doc(id).delete();\n}\nexport async function uploadImage(userId, date, imageData) {\n  const fileRef = storageRef.child(`/${userId}/images/${date}/${imageData.name}`);\n  await fileRef.put(imageData);\n  let url = await fileRef.getDownloadURL();\n  return url;\n}","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/nursery/src/services/firebase.js"],"names":["app","PlayCircleOutlineTwoTone","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","firebaseDb","firestore","storageRef","storage","ref","addUser","email","password","userData","auth","createUserWithEmailAndPassword","collection","doc","user","uid","set","createdAt","FieldValue","serverTimestamp","error","alert","message","logoutUser","signOut","err","loginUser","signInWithEmailAndPassword","addDataToCollection","collectionName","data","add","getAllDataByType","response","orderBy","get","getNote","id","updateNote","noteData","merge","deleteNote","imageUrl","length","map","url","fileRef","refFromURL","delete","console","log","uploadImage","userId","date","imageData","child","name","put","getDownloadURL"],"mappings":"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","sourcesContent":["import app from 'firebase/app';\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\nimport { PlayCircleOutlineTwoTone } from '@material-ui/icons';\nconst config = {\n   apiKey: \"AIzaSyBmIcRoW1W55HUxkDq2I8A76VbfSOvifew\",\n  authDomain: \"greenary-gardens.firebaseapp.com\",\n  projectId: \"greenary-gardens\",\n  storageBucket: \"greenary-gardens.appspot.com\",\n  messagingSenderId: \"909264771422\",\n  appId: \"1:909264771422:web:445f6d6267c15d4c9e17cf\",\n  measurementId: \"G-B1J3H3H0GL\"\n};\napp.initializeApp(config);\n\nconst firebaseDb = app.firestore()\nconst storageRef = app.storage().ref()\n\nexport default app;\n\nexport async function addUser(email,password){\n    try{\n    let userData = await app.auth().createUserWithEmailAndPassword(email,password)\n    await firebaseDb.collection('users').doc(userData.user.uid).set({\n        email,\n        password,\n        createdAt: app.firestore.FieldValue.serverTimestamp()\n            })\n    }\n    catch(error){\n        alert(error.message)\n    }\n}\nexport async function logoutUser(){\n    try{\n        await app.auth().signOut()\n    }\n    catch(err){\n        alert(err.message)\n    }\n}\nexport async function loginUser(email,password){\n    try{\n        await app.auth().signInWithEmailAndPassword(email,password)\n    }\n    catch(error){\n        alert(error.message)\n    }\n}\n\n\nexport async function addDataToCollection(collectionName,data){ \n    await firebaseDb.collection(collectionName)\n    .add(\n        {\n           ...data,\n           createdAt: app.firestore.FieldValue.serverTimestamp()\n        })\n}\nexport async function getAllDataByType(collectionName){\n    let response = await firebaseDb.collection(collectionName).orderBy(\"createdAt\",\"desc\").get()\n    return response.data()\n}\nexport async function getNote(id){\n    let doc = await firebaseDb.collection('notes').doc(id).get()\n    return doc.data()\n}\nexport async function updateNote(id,noteData){\n    await firebaseDb.collection('notes').doc(id).set(noteData,{merge:true})\n}\nexport async function deleteNote(id,imageUrl){\n    if(imageUrl.length!==0){\n        imageUrl.map(async(url)=>{\n            const fileRef = app.storage().refFromURL(url)\n            try{\n            await fileRef.delete()\n            }\n            catch(err){\n                console.log(err)\n            }\n        })\n    }\n    await firebaseDb.collection('notes').doc(id).delete()\n\n}\n\nexport async function uploadImage(userId,date,imageData){\n    const fileRef = storageRef.child(`/${userId}/images/${date}/${imageData.name}`);\n    await fileRef.put(imageData)\n    let url = await fileRef.getDownloadURL()\n    return url\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import app from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\nconst config = {\n  apiKey: \"AIzaSyBmIcRoW1W55HUxkDq2I8A76VbfSOvifew\",\n  authDomain: \"greenary-gardens.firebaseapp.com\",\n  projectId: \"greenary-gardens\",\n  storageBucket: \"greenary-gardens.appspot.com\",\n  messagingSenderId: \"909264771422\",\n  appId: \"1:909264771422:web:445f6d6267c15d4c9e17cf\",\n  measurementId: \"G-B1J3H3H0GL\"\n};\napp.initializeApp(config);\n\nif (!app.apps.length) {\n  app.initializeApp({});\n} else {\n  app.app(); // if already initialized, use that one\n}\n\nconst firebaseDb = app.firestore();\nconst storageRef = app.storage().ref();\nexport default app;\nexport async function addUser(email, password) {\n  try {\n    let userData = await app.auth().createUserWithEmailAndPassword(email, password);\n    await firebaseDb.collection('users').doc(userData.user.uid).set({\n      email,\n      password,\n      createdAt: app.firestore.FieldValue.serverTimestamp()\n    });\n  } catch (error) {\n    alert(error.message);\n  }\n}\nexport async function logoutUser() {\n  try {\n    await app.auth().signOut();\n  } catch (err) {\n    alert(err.message);\n  }\n}\nexport async function loginUser(email, password) {\n  try {\n    await app.auth().signInWithEmailAndPassword(email, password);\n  } catch (error) {\n    alert(error.message);\n  }\n}\nexport async function addDocument(collectionName, data) {\n  await firebaseDb.collection(collectionName).add({ ...data,\n    createdAt: app.firestore.FieldValue.serverTimestamp()\n  });\n}\nexport async function getAllDocuments(collectionName) {\n  let response = await firebaseDb.collection(collectionName).orderBy(\"createdAt\", \"desc\").get();\n  let data = [];\n  response.forEach(doc => {\n    data = [...data, {\n      id: doc.id,\n      ...doc.data()\n    }];\n  });\n  return data;\n}\nexport async function getSingleDocument(collectionName, id) {\n  let doc = await firebaseDb.collection(collectionName).doc(id).get();\n  return {\n    id: doc.id,\n    ...doc.data()\n  };\n}\nexport async function updateDocument(collectionName, id, data) {\n  await firebaseDb.collection(collectionName).doc(id).set(data, {\n    merge: true\n  });\n}\nexport async function deleteDocument(collectionName, id, imageUrl) {\n  const fileRef = app.storage().refFromURL(imageUrl);\n\n  try {\n    await firebaseDb.collection(collectionName).doc(id).delete();\n    await fileRef.delete();\n  } catch (err) {\n    console.log(err);\n  }\n}\nexport async function uploadImage(collectionName, date, imageData) {\n  const fileRef = storageRef.child(`/${collectionName}/images/${date}/${imageData.name}`);\n  await fileRef.put(imageData);\n  let url = await fileRef.getDownloadURL();\n  return url;\n}","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/nursery/src/services/firebase.js"],"names":["app","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","apps","length","firebaseDb","firestore","storageRef","storage","ref","addUser","email","password","userData","auth","createUserWithEmailAndPassword","collection","doc","user","uid","set","createdAt","FieldValue","serverTimestamp","error","alert","message","logoutUser","signOut","err","loginUser","signInWithEmailAndPassword","addDocument","collectionName","data","add","getAllDocuments","response","orderBy","get","forEach","id","getSingleDocument","updateDocument","merge","deleteDocument","imageUrl","fileRef","refFromURL","delete","console","log","uploadImage","date","imageData","child","name","put","url","getDownloadURL"],"mappings":"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","sourcesContent":["import app from 'firebase/app';\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\nconst config = {\n   apiKey: \"AIzaSyBmIcRoW1W55HUxkDq2I8A76VbfSOvifew\",\n  authDomain: \"greenary-gardens.firebaseapp.com\",\n  projectId: \"greenary-gardens\",\n  storageBucket: \"greenary-gardens.appspot.com\",\n  messagingSenderId: \"909264771422\",\n  appId: \"1:909264771422:web:445f6d6267c15d4c9e17cf\",\n  measurementId: \"G-B1J3H3H0GL\"\n};\napp.initializeApp(config);\n\nif (!app.apps.length) {\n   app.initializeApp({});\n}else {\n   app.app(); // if already initialized, use that one\n}\n\nconst firebaseDb = app.firestore()\nconst storageRef = app.storage().ref()\n\nexport default app;\n\nexport async function addUser(email,password){\n    try{\n    let userData = await app.auth().createUserWithEmailAndPassword(email,password)\n    await firebaseDb.collection('users').doc(userData.user.uid).set({\n        email,\n        password,\n        createdAt: app.firestore.FieldValue.serverTimestamp()\n            })\n    }\n    catch(error){\n        alert(error.message)\n    }\n}\nexport async function logoutUser(){\n    try{\n        await app.auth().signOut()\n    }\n    catch(err){\n        alert(err.message)\n    }\n}\nexport async function loginUser(email,password){\n    try{\n        await app.auth().signInWithEmailAndPassword(email,password)\n    }\n    catch(error){\n        alert(error.message)\n    }\n}\n\n\nexport async function addDocument(collectionName,data){ \n    await firebaseDb.collection(collectionName)\n    .add(\n        {\n           ...data,\n           createdAt: app.firestore.FieldValue.serverTimestamp()\n        })\n}\nexport async function getAllDocuments(collectionName){\n    let response = await firebaseDb.collection(collectionName).orderBy(\"createdAt\",\"desc\").get()\n    let data = []\n    response.forEach((doc) => {\n        data = [...data, { id: doc.id, ...doc.data() }]\n    })\n    return data\n}\nexport async function getSingleDocument(collectionName,id){\n    let doc = await firebaseDb.collection(collectionName).doc(id).get()\n    return { id: doc.id, ...doc.data() }\n}\nexport async function updateDocument(collectionName,id,data){\n    await firebaseDb.collection(collectionName).doc(id).set(data,{merge:true})\n}\nexport async function deleteDocument(collectionName,id,imageUrl){\n \n        const fileRef = app.storage().refFromURL(imageUrl)\n         try{       \n        await firebaseDb.collection(collectionName).doc(id).delete()\n\n        await fileRef.delete()\n            }\n            catch(err){\n                console.log(err)\n            }\n\n}\n\nexport async function uploadImage(collectionName,date,imageData){\n    const fileRef = storageRef.child(`/${collectionName}/images/${date}/${imageData.name}`);\n    await fileRef.put(imageData)\n    let url = await fileRef.getDownloadURL()\n    return url\n}"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/takasivenkatasandeep/Desktop/nursery/src/Containers/EditItem/index.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { getSingleDocument } from '../../services/firebase';\nimport Loader from '../../Components/Loader';\nimport { Typography } from '@material-ui/core';\nimport CommonItemForm from '../../Components/CommonItemForm';\nimport { useForm } from 'react-hook-form';\n\nfunction Index({\n  loggedinUser,\n  match\n}) {\n  _s();\n\n  const collectionName = match.params.collectionName;\n  const id = match.params.id;\n  const [loading, setLoading] = React.useState(false);\n  const [isAdmin, setIsAdmin] = React.useState(false);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm({\n    mode: \"onChange\"\n  });\n  const [item, setItem] = React.useState({});\n  React.useEffect(() => {\n    let mounted = true;\n\n    async function initializeEditItem() {\n      setLoading(true);\n\n      if (Object.keys(loggedinUser).length !== 0) {\n        const isAdminResponse = await getSingleDocument('users', loggedinUser.id);\n        console.log(isAdminResponse);\n\n        if (isAdminResponse.isAdmin) {\n          setIsAdmin(true);\n          const itemData = await getSingleDocument(collectionName, id);\n          setItem(itemData);\n        }\n      }\n\n      setLoading(false);\n    }\n\n    initializeEditItem();\n    return () => {\n      mounted = false;\n    };\n  }, []);\n  const formData = [{\n    name: collectionName === \"pots\" || collectionName === \"bowls\" ? \"type\" : \"name\",\n    error: errors.type,\n    helperText: errors.type ? errors.type.message : null,\n    value: Object.keys(item) !== 0 && (collectionName === \"pots\" || collectionName === \"bowls\") ? item.type : item.name,\n    type: \"text\"\n  }, {\n    name: \"price\",\n    error: errors.price,\n    helperText: errors.price ? errors.price.message : null,\n    value: item.price,\n    type: \"number\"\n  }];\n\n  if (collectionName === \"pots\" || collectionName === \"bowls\") {\n    formData.push({\n      name: \"color\",\n      error: errors.color,\n      helperText: errors.color ? errors.color.message : null,\n      value: item.color,\n      type: \"text\"\n    });\n  }\n\n  const updateDocument = data => {\n    console.log(data);\n  };\n\n  if (!loading) {\n    if (isAdmin) {\n      return /*#__PURE__*/_jsxDEV(CommonItemForm, {\n        item: item,\n        collectionName: collectionName,\n        loading: loading,\n        register: register,\n        handleFunction: handleSubmit(updateDocument),\n        formData: formData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"center\", {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h4\",\n          color: \"secondary\",\n          children: \"You have no access to this page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }, this);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"center\", {\n      children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 24\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }, this);\n  }\n}\n\n_s(Index, \"7QGek5Qm7waD6lE2P4veZXcGT5I=\", false, function () {\n  return [useForm];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/Users/takasivenkatasandeep/Desktop/nursery/src/Containers/EditItem/index.js"],"names":["React","getSingleDocument","Loader","Typography","CommonItemForm","useForm","Index","loggedinUser","match","collectionName","params","id","loading","setLoading","useState","isAdmin","setIsAdmin","register","handleSubmit","errors","mode","item","setItem","useEffect","mounted","initializeEditItem","Object","keys","length","isAdminResponse","console","log","itemData","formData","name","error","type","helperText","message","value","price","push","color","updateDocument","data"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {getSingleDocument} from '../../services/firebase'\nimport Loader from '../../Components/Loader'\nimport { Typography } from '@material-ui/core'\nimport CommonItemForm from '../../Components/CommonItemForm'\nimport {useForm} from 'react-hook-form'\nfunction Index({\n    loggedinUser,\n    match\n}) {\n    const collectionName = match.params.collectionName\n    const id = match.params.id\n    const [loading, setLoading] = React.useState(false)\n    const [isAdmin, setIsAdmin] = React.useState(false)\n    const { register, handleSubmit, errors } = useForm({\n        mode:\"onChange\"\n    })\n    const [item,setItem] = React.useState({})\n    React.useEffect(() => {\n        let mounted = true\n        async function initializeEditItem() {\n            setLoading(true)\n            if (Object.keys(loggedinUser).length !== 0) {\n                const isAdminResponse = await getSingleDocument('users', loggedinUser.id)\n                console.log(isAdminResponse)\n                if (isAdminResponse.isAdmin) {\n                    setIsAdmin(true)\n                    const itemData = await getSingleDocument(collectionName, id)\n                    setItem(itemData)\n                }    \n            }\n                setLoading(false)\n        }\n        \n            initializeEditItem()\n        \n        return () => { mounted = false }\n    }, [])\n    \n        const formData = [\n        {\n            name: collectionName===\"pots\"||collectionName===\"bowls\"?\"type\":\"name\",\n            error: errors.type,\n            helperText: errors.type ? errors.type.message : null,\n            value: (Object.keys(item)!==0 && (collectionName===\"pots\"||collectionName===\"bowls\"))?item.type:item.name,\n            type:\"text\"\n            },\n        {\n             name: \"price\",\n            error: errors.price,\n            helperText: errors.price ? errors.price.message : null,\n            value: item.price,\n            type:\"number\"\n        }   \n    ]\n    if (collectionName === \"pots\" || collectionName === \"bowls\") {\n        formData.push({\n                    name: \"color\",\n                    error: errors.color,\n                    helperText: errors.color ? errors.color.message : null,\n            value: item.color,\n                    type:\"text\"\n                })\n    }\n\n    const updateDocument = (data) => {\n        console.log(data)\n    }\n\n    if (!loading) {\n        if (isAdmin) {\n            return (\n                <CommonItemForm item={item} collectionName={collectionName} loading={loading} register={register} handleFunction={handleSubmit(updateDocument)} formData={formData} />\n            )\n        }\n        else {\n            return (<center><Typography component=\"h1\" variant=\"h4\" color=\"secondary\">You have no access to this page</Typography></center>)\n        }\n    }\n    else {\n       return  <center><Loader/></center>\n    }\n}\n\nexport default Index"]},"metadata":{},"sourceType":"module"}
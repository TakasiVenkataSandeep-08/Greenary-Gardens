(this.webpackJsonpnursery=this.webpackJsonpnursery||[]).push([[0],{121:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(0),c=n.n(r),i=n(17),s=n.n(i),o=n(16),l=n(8),u=n.n(l),d=n(12),p=n(14),m=n(203),j=n(97),b=n(210),h=Object(j.a)({palette:{primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#fff"}}}),f=h=Object(b.a)(h),g=n(47);function x(e){return{required:"This field is required",validate:function(t){return t===e().password||"passwords doesnt match"}}}var O=n(211),v=n(185),y=n(181),w=n(204),k=n(182),N=n(95),L=n.n(N),C=n(66),T=n(179),S=n(177),A=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(10),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(4,0,0),display:"flex",justifyContent:"center",alignContent:"center"},heading:{color:"#000000",fontWeight:500,display:"flex",alignSelf:"flex-start"},avatar:{padding:25,backgroundColor:"#3f50b5"},input:{marginTop:e.spacing(2),color:"#4267B2",outline:"none"},loading:{marginRight:e.spacing(2)}}}),{index:1}),B=n(186);function D(e){var t=e.isLoading,n=e.formHeading,r=e.submitFunction,c=e.formDetails,i=e.submitButtonName,s=A();return Object(a.jsxs)(T.a,{component:"main",maxWidth:"xs",children:[Object(a.jsx)(y.a,{}),Object(a.jsxs)("div",{className:s.paper,children:[Object(a.jsx)(O.a,{className:s.avatar,children:Object(a.jsx)(L.a,{})}),Object(a.jsx)(C.a,{component:"h1",variant:"h5",children:n}),Object(a.jsxs)("form",{className:s.form,onSubmit:r,children:[Object(a.jsx)(k.a,{container:!0,spacing:2,children:c.map((function(e,t){return Object(a.jsx)(k.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{variant:"outlined",fullWidth:!0,id:e.name,label:e.label,name:e.name,type:e.type,autoComplete:"off",inputRef:e.validator,error:e.error,helperText:e.helperText})},t)}))}),Object(a.jsxs)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,disabled:t,children:[Object(a.jsx)(B.a,{color:"primary",size:"17px",className:s.loading,style:t?{display:"block"}:{display:"none"}}),Object(a.jsx)(C.a,{variant:"caption",component:"span",children:i})]})]})]})]})}var F=n(25),U=n(36);n(122),n(118),n(123);U.a.apps.length?U.a.app():U.a.initializeApp({apiKey:"AIzaSyBmIcRoW1W55HUxkDq2I8A76VbfSOvifew",authDomain:"greenary-gardens.firebaseapp.com",projectId:"greenary-gardens",storageBucket:"greenary-gardens.appspot.com",messagingSenderId:"909264771422",appId:"1:909264771422:web:445f6d6267c15d4c9e17cf",measurementId:"G-B1J3H3H0GL"});var P=U.a.firestore(),I=U.a.storage().ref(),E=U.a;function z(e,t){return q.apply(this,arguments)}function q(){return(q=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.auth().createUserWithEmailAndPassword(t,n);case 3:return a=e.sent,e.next=6,P.collection("users").doc(a.user.uid).set({email:t,password:n,createdAt:U.a.firestore.FieldValue.serverTimestamp()});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function W(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.auth().signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function G(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.a.auth().signInWithEmailAndPassword(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function H(e,t){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.collection(t).add(Object(o.a)(Object(o.a)({},n),{},{createdAt:U.a.firestore.FieldValue.serverTimestamp()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return V.apply(this,arguments)}function V(){return(V=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.collection(t).orderBy("createdAt","desc").get();case 2:return n=e.sent,a=[],n.forEach((function(e){a=[].concat(Object(F.a)(a),[Object(o.a)({id:e.id},e.data())])})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.collection(t).doc(n).get();case 2:if(a=e.sent,"users"!==t){e.next=5;break}return e.abrupt("return",{isAdmin:a.data().isAdmin});case 5:return e.abrupt("return",Object(o.a)({id:a.id},a.data()));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t,n){return _.apply(this,arguments)}function _(){return(_=Object(d.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.collection(t).doc(n).set(a,{merge:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,t,n){return X.apply(this,arguments)}function X(){return(X=Object(d.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=U.a.storage().refFromURL(a),e.prev=1,e.next=4,P.collection(t).doc(n).delete();case 4:return e.next=6,r.delete();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ee(e,t,n){return te.apply(this,arguments)}function te(){return(te=Object(d.a)(u.a.mark((function e(t,n,a){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I.child("/".concat(t,"/images/").concat(a.name+" "+n)),e.next=3,r.put(a);case 3:return e.next=5,r.getDownloadURL();case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){e.setSnackBar;var t=e.history,n=c.a.useState(!1),r=Object(p.a)(n,2),i=r[0],s=r[1],o=Object(g.a)({mode:"onChange"}),l=o.register,m=o.handleSubmit,j=o.errors,b=o.getValues,h=[{name:"email",type:"email",label:"Email Address",validator:l({required:"This field is required",maxLength:{value:30,message:"Email shouldnot be more than 30 characters long"},validate:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Email is invalid"}}),error:j.email,helperText:j.email?j.email.message:null},{name:"password",label:"Password",type:"password",validator:l({required:"This field is required",minLength:{value:8,message:"Password must be minimum 8 letters long"},validate:function(e){return[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/].every((function(t){return t.test(e)}))||"Password must include a-z, A-Z, @..and 0-9"}}),error:j.password,helperText:j.password?j.password.message:null},{name:"confirmPassword",label:"confirm Password",type:"password",validator:l(x(b)),error:j.confirmPassword,helperText:j.confirmPassword?j.confirmPassword.message:null}],f=function(){var e=Object(d.a)(u.a.mark((function e(n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),a=n.email,r=n.password,e.next=5,z(a,r);case 5:alert("user created successfully!"),s(!1),t.push("/login");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(D,{submitFunction:m(f),isLoading:i,submitButtonName:"signup",formHeading:"Signup",formDetails:h})}function ae(e){var t=e.setSnackBar,n=e.location,r=e.history,i=c.a.useState(!1),s=Object(p.a)(i,2),o=s[0],l=s[1],m=Object(g.a)({mode:"onChange"}),j=m.register,b=m.handleSubmit,h=m.errors,f=[{name:"email",type:"email",label:"Email Address",error:h.email,validator:j({required:"This field is required",maxLength:{value:30,message:"Email shouldnot be more than 30 characters long"},validate:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Email is invalid"}}),helperText:h.email?h.email.message:null},{name:"password",label:"Password",type:"password",validator:j({required:"This field is required",minLength:{value:8,message:"Password must be minimum 8 letters long"},validate:function(e){return[/[a-z]/,/[A-Z]/,/[0-9]/,/[^a-zA-Z0-9]/].every((function(t){return t.test(e)}))||"Password must include a-z, A-Z, @..and 0-9"}}),error:h.password,helperText:h.password?h.password.message:null}],x=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),n=t.email,a=t.password,e.next=5,G(n,a);case 5:alert("logged in successfully!"),l(!1),r.push("/");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.verified&&t(n.verified),Object(a.jsx)(D,{submitFunction:b(x),isLoading:o,submitButtonName:"login",formHeading:"Login",formDetails:f})}var re=n(20);function ce(e,t){var n=Object(r.useState)((function(){return function(e,t){var n=JSON.parse(localStorage.getItem(e));return n||!1===n?n:t instanceof Function?t():t}(e,t)})),a=Object(p.a)(n,2),c=a[0],i=a[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(c))}),[e,c]),[c,i]}var ie=n(194),se=n(195),oe=n(208),le=Object(S.a)((function(e){return{root:{flexGrow:1,fontFamily:"Montserrat",marginBottom:e.spacing(9.5)},title:{color:"#f8f8ff",fontWeight:"bolder",fontFamily:"Montserrat",marginRight:e.spacing(4)},link:{marginLeft:e.spacing(3),fontFamily:"Montserrat",textDecoration:"none",color:"white"},lastLink:{margin:"auto",textDecoration:"none",color:"white"},signupLink:{marginLeft:"auto",textDecoration:"none",color:"white"},margin:{margin:e.spacing(1),textTransform:"capitalize"},navbar:{backgroundColor:"#2e7d32"}}})),ue=n(30),de=n(33),pe=n(5),me=n(205),je=n(184),be=n(190),he=n(187),fe=n(188),ge=n(189),xe=n(193),Oe=n(96),ve=n.n(Oe),ye=Object(S.a)((function(e){return{root:{flexGrow:1,fontFamily:"Montserrat"},list:{width:250,backgroundColor:"#183B5A",height:"100%"},fullList:{width:"auto"},menuButton:{marginLeft:"auto",color:"#fff",marginRight:e.spacing(-2)},buttonList:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{color:"#FEFCD7"},linkText:{color:"#FEFCD7"}}})),we=n(7);var ke=function(e){var t=e.text,n=e.onClick,r=e.color,c=e.hoverColor,i=Object(we.a)((function(e){return{root:{color:e.palette.getContrastText(r),backgroundColor:r,"&:hover":{backgroundColor:c}}}}))(v.a);return Object(a.jsx)(i,{fullWidth:!0,variant:"contained",color:"primary",onClick:n,children:t})},Ne=n(75),Le=n(191),Ce=n(192),Te=n(60),Se=n.n(Te);function Ae(e){var t,n=e.authFinder,r=e.logout,i=ye(),s=c.a.useState({right:!1}),l=Object(p.a)(s,2),u=l[0],d=l[1],m=function(e,t){return function(n){(!n||"keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&d(Object(o.a)(Object(o.a)({},u),{},Object(de.a)({},e,t)))}};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(oe.a,{only:["lg","xl","md"],children:Object(a.jsx)(v.a,{onClick:m("right",!0),className:i.menuButton,children:Object(a.jsx)(xe.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(a.jsx)(ve.a,{})})})}),Object(a.jsx)(me.a,{anchor:"right",open:u.right,onClose:m("right",!1),onOpen:m("right",!0),children:(t="right",Object(a.jsxs)("div",{className:Object(pe.a)(i.list,Object(de.a)({},i.fullList,"top"===t||"bottom"===t)),role:"presentation",onClick:m(t,!1),onKeyDown:m(t,!1),children:[Object(a.jsx)(je.a,{children:[{name:"Home",to:"/",icon:Object(a.jsx)(Se.a,{className:i.icon})},{name:"Pots",to:"/pots",icon:Object(a.jsx)(Se.a,{className:i.icon})},{name:"Gift Plants",to:"/gift/plants",icon:Object(a.jsx)(Se.a,{className:i.icon})},{name:"Bowls",to:"/bowls",icon:Object(a.jsx)(Se.a,{className:i.icon})},{name:"Seeds",to:"/seed",icon:Object(a.jsx)(Se.a,{className:i.icon})}].map((function(e,t){return Object(a.jsx)(ue.b,{to:e.to,style:{textDecoration:"none",color:"black"},children:Object(a.jsxs)(he.a,{className:i.linkText,button:!0,children:[Object(a.jsx)(fe.a,{children:e.icon}),Object(a.jsx)(ge.a,{primary:e.name})]},e.name)},t)}))}),Object(a.jsx)(be.a,{}),Object(a.jsx)(je.a,{children:[{name:"Signup",color:Ne.a.A400,hoverColor:Ne.a.A200,to:"/signup",hide:n},{name:"Login",color:Le.a.A700,hoverColor:Le.a.A400,to:"/login",hide:n},{name:"Logout",color:Ce.a[500],hoverColor:Ce.a[700],hide:!n}].map((function(e,t){return"Logout"!==e.name?Object(a.jsx)(ue.b,{to:e.to,style:e.hide?{display:"none"}:{display:"block",textDecoration:"none",color:"white"},children:Object(a.jsx)(he.a,{className:i.buttonList,children:Object(a.jsx)(ke,{color:e.color,hoverColor:e.hoverColor,text:e.name})},e.name)},t):Object(a.jsx)(he.a,{className:i.buttonList,style:e.hide?{display:"none"}:{display:"block",color:"white"},children:Object(a.jsx)(ke,{color:e.color,hoverColor:e.hoverColor,text:e.name,onClick:r})},e.name)}))}),Object(a.jsx)("a",{className:i.linkText,style:{textAlign:"center"},href:"tel:9989619954",children:Object(a.jsx)(C.a,{variant:"subtitle1",color:"inherit",children:" Contact us"})})]}))})]})}function Be(e){var t=e.authFinder,n=le(),r=function(e){return[{isButton:!1,to:"/",isLastLink:!1,name:"Home"},{isButton:!1,to:"/pots",isLastLink:!1,name:"Pots"},{isButton:!1,to:"/gift/plants",isLastLink:!1,name:"Gift Plants"},{isButton:!1,to:"/bowls",isLastLink:!1,name:"Bowls"},{isText:!0},{isButton:!1,to:"/seed",isLastLink:!1,name:"Seeds"},{isButton:!0,to:"/signup",authFinder:e,isLastLink:!0,name:"Signup"},{isButton:!0,to:"/login",authFinder:e,isLastLink:!1,name:"Login"},{isButton:!0,to:"/",authFinder:!e,isLastLink:!0,name:"Logout"}]}(t);function c(){return i.apply(this,arguments)}function i(){return(i=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:alert("loggedout successfully!");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)("div",{className:n.root,children:Object(a.jsx)(ie.a,{className:n.navbar,position:"fixed",children:Object(a.jsxs)(se.a,{children:[Object(a.jsx)(C.a,{variant:"h5",className:n.title,children:"Greenary Gardens"}),Object(a.jsx)(oe.a,{only:["sm","xs"],children:r.map((function(e,t){return e.isButton?(console.log(t),Object(a.jsx)(ue.b,{to:e.to,className:e.isLastLink?n.signupLink:n.link,style:e.authFinder?{display:"none"}:{display:"block"},children:Object(a.jsx)(v.a,Object(o.a)(Object(o.a)({color:"/"===e.to?"secondary":"primary",className:n.margin,variant:"contained"},"/"===e.to&&{onClick:c}),{},{children:e.name}))},t)):(console.log(t),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue.b,{to:e.to,className:e.isLastLink?n.lastLink:n.link,children:Object(a.jsx)(C.a,{variant:"subtitle1",color:"inherit",children:e.name})},t),5===t&&Object(a.jsx)("a",{className:n.link,href:"tel:9989619954",children:Object(a.jsx)(C.a,{variant:"subtitle1",color:"inherit",children:" Contact: 9989619954"})})]}))}))}),Object(a.jsx)(oe.a,{only:["lg","xl"],children:Object(a.jsx)(Ae,{authFinder:t,logout:c})})]})})})}var De=n(74),Fe=n(197),Ue=n(198),Pe=n(201),Ie=n(200);n(209),n(207);var Ee=n(196),ze=Object(S.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(3),marginRight:e.spacing(3),marginLeft:e.spacing(1),width:"23rem"},cardBody:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignContent:"center",height:100},large:{width:e.spacing(7),height:e.spacing(7)},title:{textAlign:"center",textTransform:"capitalize"},orange:{color:e.palette.getContrastText(Ce.a[500]),backgroundColor:Ce.a[500]},purple:{color:e.palette.getContrastText(Ee.a[500]),backgroundColor:Ee.a[500]},textCenter:{textAlign:"center"},cardBottom:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:e.spacing(2)},link:{fontFamily:"Montserrat",textDecoration:"none",color:"navy"}}})),qe=n(199);function We(e){var t=e.handleDeteItem,n=e.isAdmin,r=e.itemDetails,i=e.collectionName,s=(e.loggedinUser,e.history,c.a.useState({value:!1,message:"",type:""})),o=Object(p.a)(s,2);o[0],o[1];console.log(r);var l=ze();return Object(a.jsxs)(Fe.a,{className:l.root,children:[Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(qe.a,{component:"img",alt:"plants",height:"200",image:r.imageUrl,title:"Contemplative Reptile"}),Object(a.jsxs)(Ie.a,{children:[Object(a.jsxs)(C.a,{gutterBottom:!0,variant:"h6",component:"h2",children:[r.name?r.name:r.type," ","giftPlants"===i?"plant":i.slice(0,-1)," ",r.color?"(".concat(r.color,")"):r.type?"(".concat(r.type,")"):null]}),Object(a.jsxs)(C.a,{variant:"body2",color:"textSecondary",component:"p",children:["Price: \u20b9 ",r.price," ","seeds"===i?" / kg":" / piece"]})]})]}),Object(a.jsx)(Pe.a,{className:l.cardBottom,children:n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ue.b,{style:{textDecoration:"none"},to:"/edit/".concat(i,"/").concat(r.id),children:Object(a.jsx)(v.a,{variant:"outlined",size:"small",color:"primary",children:"Edit"})}),Object(a.jsx)(v.a,{onClick:function(){return t(r.id,r.imageUrl)},variant:"outlined",size:"small",color:"secondary",children:"Delete"})]}):Object(a.jsx)("a",{className:l.link,href:"tel:9989619954",children:Object(a.jsx)(C.a,{variant:"subtitle1",color:"inherit",children:" Contact us: 9989619954"})})})]})}var Re=Object(S.a)((function(e){return{root:{margin:"auto"}}}));function Ge(){var e=Re();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(B.a,{})})}var Ze=Object(S.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#f8f8ff",marginTop:e.spacing(2),minHeight:"100vh",overflow:"hidden"},wrapper:{marginTop:e.spacing(1),marginLeft:e.spacing(1),display:"flex",justifyContent:"space-around",alignItems:"center"},addButton:{padding:10}}}));function He(e){var t=e.loggedinUser,n=(e.externalData,e.collectionName),i=void 0===n?"plants":n,s=Object(De.a)(e,["loggedinUser","externalData","collectionName"]),o=Ze(),l=Object(r.useState)([]),m=Object(p.a)(l,2),j=m[0],b=m[1],h=Object(r.useState)(!1),f=Object(p.a)(h,2),g=f[0],x=f[1],O=Object(r.useState)(!1),y=Object(p.a)(O,2),w=y[0],N=y[1],L=c.a.useState({value:!1,message:"",type:""}),T=Object(p.a)(L,2),S=(T[0],T[1],c.a.useState("all")),A=Object(p.a)(S,2),B=(A[0],A[1],c.a.useState("all")),D=Object(p.a)(B,2);D[0],D[1];Object(r.useEffect)((function(){var e=!0;function n(){return(n=Object(d.a)(u.a.mark((function n(){var a,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(N(!0),0===Object.keys(t).length){n.next=7;break}return n.next=4,K("users",t.id);case 4:a=n.sent,console.log(a),a.isAdmin&&x(!0);case 7:return n.next=9,J(i);case 9:r=n.sent,console.log(r),e&&b(r),N(!1);case 13:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!1}}),[]);var F=function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(i,t,n);case 2:b((function(e){return e.filter((function(e){return e.id!==t}))}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return w?Object(a.jsx)(C.a,{align:"center",children:Object(a.jsx)(Ge,{})}):0!==j.length?Object(a.jsxs)("div",{className:o.root,children:[g&&Object(a.jsx)(ue.b,{style:{textDecoration:"none"},to:"/create/".concat(i),children:Object(a.jsxs)(v.a,{fullWidth:!0,className:o.addButton,variant:"outlined",color:"primary",children:["Add ",i.slice(0,-1)]})}),Object(a.jsx)(k.a,{container:!0,spacing:2,children:j.map((function(e,n){return Object(a.jsx)(k.a,{container:!0,item:!0,xs:12,sm:6,lg:3,spacing:3,className:o.wrapper,children:Object(a.jsx)(We,{handleDeteItem:F,isAdmin:g,itemDetails:e,loggedinUser:t,history:s.history,collectionName:i},e.id)},n)}))})]}):Object(a.jsx)(C.a,{component:"h1",color:"secondary",variant:"h4",align:"center",children:"No Items To show"})}var Me=function(e){var t=e.loggedinUser;return Object(a.jsx)(He,{loggedinUser:t,collectionName:"pots"})};var Je=function(e){var t=e.loggedinUser;return Object(a.jsx)(He,{loggedinUser:t,collectionName:"giftPlants"})};var Ve=function(e){var t=e.loggedinUser;return Object(a.jsx)(He,{loggedinUser:t,collectionName:"bowls"})};var Ke=function(e){var t=e.loggedinUser;return Object(a.jsx)(He,{loggedinUser:t,collectionName:"seeds"})},Ye=n(202),$e=Object(S.a)((function(e){return{paper:{marginTop:e.spacing(4),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100vw",marginTop:e.spacing(3),padding:20},submit:{margin:e.spacing(4,0,0)},heading:{color:"teal",fontWeight:"900",display:"flex",alignSelf:"flex-start"},avatar:{padding:25},input:{marginTop:e.spacing(2),color:"#4267B2",outline:"none"},loading:{marginRight:e.spacing(2)}}}));var _e=function(e){var t=e.handleFunction,n=e.register,r=e.formData,c=e.loading,i=e.collectionName,s=e.item,o=$e();return Object(a.jsxs)(k.a,{style:{padding:"20px"},children:[Object(a.jsx)(y.a,{}),Object(a.jsxs)("div",{className:o.paper,children:[Object(a.jsxs)(C.a,{className:o.heading,color:"primary",component:"h1",variant:"h5",children:["Add New ",i.slice(0,-1)]}),Object(a.jsxs)("form",{className:o.form,onSubmit:t,children:[Object(a.jsxs)(k.a,{container:!0,spacing:2,children:[r.map((function(e){return console.log("name",e),Object(a.jsx)(k.a,{item:!0,xs:12,children:Object(a.jsx)(w.a,{variant:"outlined",fullWidth:!0,type:"price"===e.name?"number":"text",label:"Enter product ".concat(e.name,"*"),name:e.name,defaultValue:e.value?e.value:"",autoComplete:"off",inputRef:n("price"===e.name?{required:"price is required",min:{value:1,message:"min price is 1 rupee"}}:{required:"This field is required",minLength:{value:4,message:"min length of this field is 4"},maxLenght:{value:20,message:"max length of this field is 20"}}),error:e.error,helperText:e.helperText})})})),Object(a.jsxs)(k.a,{item:!0,xs:12,children:[Object(a.jsx)(C.a,{component:"h5",variant:"h6",children:"select image"}),Object(a.jsx)("input",{accept:"image/*",className:o.input,multiple:!0,type:"file",name:"image",ref:n}),s&&Object(a.jsx)(je.a,{style:{marginLeft:0},children:Object(a.jsx)(he.a,{children:Object(a.jsx)(Ye.a,{href:s.imageUrl,target:"_blank",children:i.slice(0,-1)+" image"})})})]})]}),Object(a.jsxs)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:c,className:o.submit,children:[Object(a.jsx)(B.a,{color:"primary",size:"22px",className:o.loading,style:c?{display:"block"}:{display:"none"}}),"save"]})]})]})]})};var Qe=function(e){var t=e.loggedinUser,n=e.match,r=e.history,i=n.params.collectionName,s=n.params.id,o=c.a.useState(!1),l=Object(p.a)(o,2),m=l[0],j=l[1],b=c.a.useState(!1),h=Object(p.a)(b,2),f=h[0],x=h[1],O=Object(g.a)({mode:"onChange"}),v=O.register,y=O.handleSubmit,w=O.errors,k=c.a.useState(!1),N=Object(p.a)(k,2),L=N[0],T=N[1],S=c.a.useState({}),A=Object(p.a)(S,2),B=A[0],D=A[1];c.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),0===Object.keys(t).length){e.next=12;break}return e.next=4,K("users",t.id);case 4:if(n=e.sent,console.log(n),!n.isAdmin){e.next=12;break}return x(!0),e.next=10,K(i,s);case 10:a=e.sent,D(a);case 12:j(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){!1}}),[]);var F=[{name:"pots"===i||"bowls"===i?"type":"name",error:w.type,helperText:w.type?w.type.message:null,value:0===Object.keys(B)||"pots"!==i&&"bowls"!==i?B.name:B.type,type:"text"},{name:"price",error:w.price,helperText:w.price?w.price.message:null,value:B.price,type:"number"}];"pots"!==i&&"bowls"!==i||F.push({name:"color",error:w.color,helperText:w.color?w.color.message:null,value:B.color,type:"text"});var U=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t),T(!0),0===t.image.length){e.next=14;break}return e.next=5,ee(i,new Date,t.image[0]);case 5:return n=e.sent,delete t.image,t.price=parseInt(t.price),t.imageUrl=n,e.next=11,$(i,s,t);case 11:T(!1),e.next=19;break;case 14:return delete t.image,t.price=parseInt(t.price),e.next=18,$(i,s,t);case 18:T(!1);case 19:r.push("/".concat("giftPlants"===i?"gitf/plants":"plants"===i?"":i));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m?Object(a.jsx)("center",{children:Object(a.jsx)(Ge,{})}):f?Object(a.jsx)(_e,{item:B,collectionName:i,loading:L,register:v,handleFunction:y(U),formData:F}):Object(a.jsx)("center",{children:Object(a.jsx)(C.a,{component:"h1",variant:"h4",color:"secondary",children:"You have no access to this page"})})};var Xe=function(e){var t=e.loggedinUser,n=e.match.params.collectionName,r=c.a.useState(!1),i=Object(p.a)(r,2),s=i[0],o=i[1],l=c.a.useState(!1),m=Object(p.a)(l,2),j=m[0],b=m[1],h=c.a.useState(!1),f=Object(p.a)(h,2),x=f[0],O=f[1],v=Object(g.a)(),y=v.register,w=v.handleSubmit,k=v.errors;c.a.useEffect((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(!0),0===Object.keys(t).length){e.next=7;break}return e.next=4,K("users",t.id);case 4:n=e.sent,console.log(n),n.isAdmin&&b(!0);case 7:o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){!1}}),[]);var N=[{name:"pots"===n||"bowls"===n?"type":"name",error:k.type,helperText:k.type?k.type.message:null,type:"text"},{name:"price",error:k.price,helperText:k.price?k.price.message:null,type:"number"}];"pots"!==n&&"bowls"!==n||N.push({name:"color",error:k.color,helperText:k.color?k.color.message:null,type:"text"});var L=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),0===t.image.length){e.next=14;break}return e.next=4,ee(n,new Date,t.image[0]);case 4:return a=e.sent,delete t.image,t.price=parseInt(t.price),t.imageUrl=a,e.next=10,H(n,t);case 10:O(!1),alert("".concat(n.slice(0,-1)," added successfully!")),e.next=16;break;case 14:O(!1),alert("please select an image!");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(a.jsx)("center",{children:Object(a.jsx)(Ge,{})}):j?Object(a.jsx)(_e,{collectionName:n,loading:x,register:y,handleFunction:w(L),formData:N}):Object(a.jsx)("center",{children:Object(a.jsx)(C.a,{component:"h1",variant:"h4",color:"secondary",children:"You have no access to this page"})})};function et(e){var t=e.component,n=e.appProps,r=e.functionCall,c=Object(De.a)(e,["component","appProps","functionCall"]);return Object(a.jsx)(re.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){return n.authFinder?Object(a.jsx)(t,Object(o.a)(Object(o.a)(Object(o.a)({},e),n),{},{functionCall:r})):Object(a.jsx)(re.a,{to:n.to})}}))}var tt=function(){var e=ce("loggedin",!1),t=Object(p.a)(e,2),n=t[0],c=t[1],i=ce("user",{}),s=Object(p.a)(i,2),l=s[0],j=s[1];Object(r.useEffect)((function(){E.auth().onAuthStateChanged((function(e){if(e){var t={id:e.uid,email:e.email};j(t),c(!0)}else j({}),c(!1)}))}),[]);var b=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(m.a,{theme:f,children:[Object(a.jsx)(Be,{onLogout:b,loggedinUser:l,authFinder:n}),Object(a.jsxs)(re.d,{children:[Object(a.jsx)(et,{exact:!0,path:"/edit/:collectionName/:id",component:Qe,appProps:{authFinder:n,to:"/",loggedinUser:l}}),Object(a.jsx)(et,{exact:!0,path:"/create/:collectionName",component:Xe,appProps:{authFinder:n,to:"/",loggedinUser:l}}),Object(a.jsx)(re.b,{exact:!0,path:"/",render:function(e){return Object(a.jsx)(He,Object(o.a)(Object(o.a)({},e),{},{loggedinUser:l}))}}),Object(a.jsx)(re.b,{exact:!0,path:"/signup",render:function(e){return Object(a.jsx)(ne,Object(o.a)(Object(o.a)({},e),{},{setLoggedinUser:j}))}}),Object(a.jsx)(re.b,{exact:!0,path:"/login",render:function(e){return Object(a.jsx)(ae,Object(o.a)(Object(o.a)({},e),{},{setLoggedinUser:j}))}}),Object(a.jsx)(re.b,{exact:!0,path:"/pots",render:function(e){return Object(a.jsx)(Me,Object(o.a)(Object(o.a)({},e),{},{loggedinUser:l}))}}),Object(a.jsx)(re.b,{exact:!0,path:"/gift/plants",render:function(e){return Object(a.jsx)(Je,Object(o.a)(Object(o.a)({},e),{},{loggedinUser:l}))}}),Object(a.jsx)(re.b,{exact:!0,path:"/bowls",render:function(e){return Object(a.jsx)(Ve,Object(o.a)(Object(o.a)({},e),{},{loggedinUser:l}))}}),Object(a.jsx)(re.b,{exact:!0,path:"/seed",render:function(e){return Object(a.jsx)(Ke,Object(o.a)(Object(o.a)({},e),{},{loggedinUser:l}))}})]})]})};s.a.render(Object(a.jsx)(ue.a,{children:Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(tt,{})})}),document.getElementById("root"))}},[[121,1,2]]]);
//# sourceMappingURL=main.a391958f.chunk.js.map